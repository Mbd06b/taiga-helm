schemaVersion: 2.1.0
metadata:
  name: taiga-helm-dev
components:
  - name: tools
    container:
      image: harbor.ethosengine.com/devspaces/udi-plus:ubi9-plus-latest
      memoryLimit: 3Gi
      mountSources: true
      env:
        - name: HELM_EXPERIMENTAL_OCI
          value: "1"
        - name: CLAUDE_CONFIG_DIR
          value: /tmp/claude-config

commands:
  - id: run-main-script
    exec:
      label: "Run main.sh script"
      component: tools
      workingDir: '${PROJECT_SOURCE}'
      commandLine: |
        ./main.sh
      group:
        kind: run
        isDefault: true
